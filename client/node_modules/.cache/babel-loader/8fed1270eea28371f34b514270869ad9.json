{"ast":null,"code":"import _objectSpread from\"C:/Users/\\u0422\\u0435\\u043C\\u0438\\u0440\\u043B\\u0430\\u043D/Desktop/tests/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/\\u0422\\u0435\\u043C\\u0438\\u0440\\u043B\\u0430\\u043D/Desktop/tests/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/\\u0422\\u0435\\u043C\\u0438\\u0440\\u043B\\u0430\\u043D/Desktop/tests/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useForm}from\"react-hook-form\";import Variant from\"../../components/Variant.js\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddTest=function AddTest(){var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),testName=_useState2[0],setTestName=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),test=_useState4[0],setTest=_useState4[1];var addQuset=function addQuset(data){var answers=Object.keys(data).filter(function(it){return it.startsWith(\"answer\");}).map(function(it){return data[it];});var question={question:data.question,points:data.points,answers:answers,rightAnswer:answers[data.rightAnswer]};setTest([].concat(_toConsumableArray(test),[question]));reset();};var createTest=function createTest(){axios.post(\"api/tests/add-test/\".concat(testName),test).then(function(_ref){var data=_ref.data;return alert(\"Added\");});};return/*#__PURE__*/_jsx(\"section\",{className:\"bg-brown \",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container \",children:[/*#__PURE__*/_jsx(\"form\",{className:\"w-100 d-flex align-items-center justify-content-center\",onSubmit:handleSubmit(addQuset),children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-50 box p-3\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"question\")),{},{className:\"w-100 mb-3\",placeholder:\"Your question\",type:\"text\"})),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Variant,{value:0,register:register,regName:\"answer 1\"}),/*#__PURE__*/_jsx(Variant,{value:1,register:register,regName:\"answer 2\"}),/*#__PURE__*/_jsx(Variant,{value:2,register:register,regName:\"answer 3\"}),/*#__PURE__*/_jsx(Variant,{value:3,register:register,regName:\"answer 4\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-end mb-2 \",children:/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"points\")),{},{type:\"number\",placeholder:\"points\"}))}),/*#__PURE__*/_jsx(\"div\",{className:\"text-end\",children:/*#__PURE__*/_jsx(\"button\",{children:\"Add a question\"})})]})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-center\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setTestName(e.target.value);},type:\"text\",placeholder:\"Enter test name\"}),/*#__PURE__*/_jsx(\"button\",{onClick:createTest,type:\"button\",children:\"Create a test\"})]})]})});};export default AddTest;","map":{"version":3,"sources":["C:/Users/Темирлан/Desktop/tests/client/src/pages/AddTest/AddTest.js"],"names":["React","useState","useForm","Variant","axios","AddTest","register","handleSubmit","reset","testName","setTestName","test","setTest","addQuset","data","answers","Object","keys","filter","it","startsWith","map","question","points","rightAnswer","createTest","post","then","alert","e","target","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {useForm} from \"react-hook-form\";\r\nimport Variant from \"../../components/Variant.js\";\r\nimport axios from \"axios\";\r\n\r\n\r\nconst AddTest = () => {\r\n const {register, handleSubmit, reset} = useForm()\r\n    const [testName, setTestName] = useState(\"\")\r\n    const [test, setTest] = useState([])\r\n\r\n    const addQuset = (data) => {\r\n\r\n     const answers = Object.keys(data).filter( it => it.startsWith(\"answer\")).map(it => data[it])\r\n\r\n     const question = {\r\n         question: data.question,\r\n         points: data.points,\r\n         answers,\r\n         rightAnswer: answers[data.rightAnswer]\r\n     }\r\n        setTest([...test, question])\r\n        reset()\r\n    }\r\n    const createTest = () => {\r\n        axios.post(`api/tests/add-test/${testName}`, test)\r\n            .then(({data}) => alert(\"Added\"))\r\n    }\r\n\r\n    return (\r\n        <section className=\"bg-brown \">\r\n            <div className=\"container \">\r\n                <form className=\"w-100 d-flex align-items-center justify-content-center\" onSubmit={handleSubmit(addQuset)}>\r\n                    <div className=\"w-50 box p-3\">\r\n                        <input {...register(\"question\")} className=\"w-100 mb-3\" placeholder=\"Your question\" type=\"text\"/>\r\n                        <div>\r\n                            <Variant value={0} register={register} regName={\"answer 1\"}/>\r\n                            <Variant value={1} register={register} regName={\"answer 2\"}/>\r\n                            <Variant value={2} register={register} regName={\"answer 3\"}/>\r\n                            <Variant value={3} register={register} regName={\"answer 4\"}/>\r\n                        </div>\r\n                        <div className=\"text-end mb-2 \"><input {...register(\"points\")} type=\"number\" placeholder=\"points\"/></div>\r\n\r\n                        <div className=\"text-end\">\r\n                            <button>Add a question</button>\r\n\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <hr/>\r\n                <div className=\"d-flex align-items-center justify-content-center\">\r\n                    <input onChange={(e) => setTestName(e.target.value)} type=\"text\" placeholder=\"Enter test name\"/>\r\n                    <button onClick={createTest} type=\"button\">Create a test</button>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default AddTest;"]},"metadata":{},"sourceType":"module"}