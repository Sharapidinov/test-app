{"ast":null,"code":"import _toConsumableArray from\"C:/Users/\\u0422\\u0435\\u043C\\u0438\\u0440\\u043B\\u0430\\u043D/Desktop/tests/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/\\u0422\\u0435\\u043C\\u0438\\u0440\\u043B\\u0430\\u043D/Desktop/tests/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from\"axios\";import TestCard from\"../../components/TestCard/TestCard.js\";import{useNavigate,useParams}from\"react-router-dom\";import ResCard from\"../resCard/ResCard.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PassTestCard=function PassTestCard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),test=_useState2[0],setTest=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),result=_useState4[0],setResult=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),show=_useState6[0],setShow=_useState6[1];var _useParams=useParams(),name=_useParams.name;var nav=useNavigate();useEffect(function(){axios(\"/api/tests/get-test/\".concat(name)).then(function(_ref){var data=_ref.data;setTest(data);});},[]);var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),questions=_useState8[0],setQuestions=_useState8[1];var chooseAnswer=function chooseAnswer(e,quest){var filtered=questions.filter(function(it){return it.id!==quest.id;});var questAns={id:quest.id,userAnswer:e.target.value};setQuestions([].concat(_toConsumableArray(filtered),[questAns]));};var finishTest=function finishTest(){axios.post(\"/api/tests/check-test/js\",questions).then(function(_ref2){var data=_ref2.data;return setResult(data);});// setShow(!show)\nnav(\"/result\");};return/*#__PURE__*/_jsx(\"section\",{className:\"bg-brown\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:test===null||test===void 0?void 0:test.map(function(quest){return/*#__PURE__*/_jsx(TestCard,{test:quest,chooseAnswer:chooseAnswer});})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-secondary btn\",onClick:finishTest,children:\"Finish\"}),show&&/*#__PURE__*/_jsx(ResCard,{result:result})]})});};export default PassTestCard;","map":{"version":3,"sources":["C:/Users/Темирлан/Desktop/tests/client/src/pages/ParssTetsCard/PassTestCard.js"],"names":["React","useEffect","useState","axios","TestCard","useNavigate","useParams","ResCard","PassTestCard","test","setTest","result","setResult","show","setShow","name","nav","then","data","questions","setQuestions","chooseAnswer","e","quest","filtered","filter","it","id","questAns","userAnswer","target","value","finishTest","post","map"],"mappings":"gVAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,uCAArB,CACA,OAAQC,WAAR,CAAqBC,SAArB,KAAqC,kBAArC,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,C,wFAGA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACvB,cAAwBN,QAAQ,CAAC,EAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eACA,eAA4BR,QAAQ,CAAC,EAAD,CAApC,yCAAOS,MAAP,eAAeC,SAAf,eACA,eAAwBV,QAAQ,CAAC,KAAD,CAAhC,yCAAOW,IAAP,eAAaC,OAAb,eACA,eAAeR,SAAS,EAAxB,CAAOS,IAAP,YAAOA,IAAP,CACA,GAAMC,CAAAA,GAAG,CAAGX,WAAW,EAAvB,CAEAJ,SAAS,CAAC,UAAM,CACZE,KAAK,+BAAwBY,IAAxB,EAAL,CAAqCE,IAArC,CAA0C,cAAY,IAAVC,CAAAA,IAAU,MAAVA,IAAU,CAClDR,OAAO,CAACQ,IAAD,CAAP,CACH,CAFD,EAGH,CAJQ,CAIP,EAJO,CAAT,CAMA,eAAkChB,QAAQ,CAAC,EAAD,CAA1C,yCAAOiB,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAIC,KAAJ,CAAa,CAC9B,GAAMC,CAAAA,QAAQ,CAAGL,SAAS,CAACM,MAAV,CAAiB,SAAAC,EAAE,QAAIA,CAAAA,EAAE,CAACC,EAAH,GAAUJ,KAAK,CAACI,EAApB,EAAnB,CAAjB,CACA,GAAMC,CAAAA,QAAQ,CAAG,CACbD,EAAE,CAAEJ,KAAK,CAACI,EADG,CAEbE,UAAU,CAAEP,CAAC,CAACQ,MAAF,CAASC,KAFR,CAAjB,CAIAX,YAAY,8BAAKI,QAAL,GAAeI,QAAf,GAAZ,CACH,CAPD,CAWA,GAAMI,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACrB7B,KAAK,CAAC8B,IAAN,4BAAuCd,SAAvC,EACKF,IADL,CACU,mBAAEC,CAAAA,IAAF,OAAEA,IAAF,OAAYN,CAAAA,SAAS,CAACM,IAAD,CAArB,EADV,EAEA;AACAF,GAAG,CAAC,SAAD,CAAH,CAEH,CAND,CAQA,mBACI,gBAAS,SAAS,CAAC,UAAnB,uBACI,aAAK,SAAS,CAAC,WAAf,wBACI,YAAK,SAAS,CAAC,KAAf,UAEQP,IAFR,SAEQA,IAFR,iBAEQA,IAAI,CAAEyB,GAAN,CAAU,SAAAX,KAAK,CAAI,CACf,mBACI,KAAC,QAAD,EAAU,IAAI,CAAEA,KAAhB,CAAuB,YAAY,CAAEF,YAArC,EADJ,CAIH,CALD,CAFR,EADJ,cAWI,eAAQ,SAAS,CAAC,mBAAlB,CAAsC,OAAO,CAAEW,UAA/C,oBAXJ,CAYKnB,IAAI,eAAI,KAAC,OAAD,EAAS,MAAM,CAAEF,MAAjB,EAZb,GADJ,EADJ,CAmBH,CArDD,CAuDA,cAAeH,CAAAA,YAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport axios from \"axios\";\r\nimport TestCard from \"../../components/TestCard/TestCard.js\";\r\nimport {useNavigate, useParams} from \"react-router-dom\";\r\nimport ResCard from \"../resCard/ResCard.js\";\r\n\r\n\r\nconst PassTestCard = () => {\r\n    const [test, setTest] = useState([])\r\n    const [result, setResult] = useState([])\r\n    const [show, setShow] = useState(false)\r\n    const {name} = useParams()\r\n    const nav = useNavigate()\r\n\r\n    useEffect(() => {\r\n        axios(`/api/tests/get-test/${name}`).then(({data}) => {\r\n            setTest(data)\r\n        })\r\n    },[])\r\n\r\n    const [questions, setQuestions] = useState([])\r\n\r\n    const chooseAnswer = (e, quest) =>{\r\n        const filtered = questions.filter(it => it.id !== quest.id)\r\n        const questAns = {\r\n            id: quest.id,\r\n            userAnswer: e.target.value\r\n        }\r\n        setQuestions([...filtered, questAns])\r\n    }\r\n\r\n\r\n\r\n    const finishTest = () => {\r\n        axios.post(`/api/tests/check-test/js`, questions )\r\n            .then(({data}) => setResult(data))\r\n        // setShow(!show)\r\n        nav(\"/result\")\r\n\r\n    }\r\n\r\n    return (\r\n        <section className=\"bg-brown\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    {\r\n                        test?.map(quest => {\r\n                            return (\r\n                                <TestCard test={quest} chooseAnswer={chooseAnswer}/>\r\n\r\n                            )\r\n                        } )\r\n                    }\r\n                </div>\r\n                <button className=\"btn-secondary btn\" onClick={finishTest}>Finish</button>\r\n                {show && <ResCard result={result}/>}\r\n            </div>\r\n        </section>\r\n    )\r\n\r\n};\r\n\r\nexport default PassTestCard;"]},"metadata":{},"sourceType":"module"}